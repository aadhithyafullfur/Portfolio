/* Mobile-First Responsive Design */
/* Touch-Friendly Improvements */

/* Extra Small Devices (320px - 480px) */
@media screen and (max-width: 480px) {
  /* Optimize touch targets */
  button, a, [role="button"], input, textarea, select {
    min-height: 44px;
    min-width: 44px;
    padding: 12px 16px;
  }

  /* Responsive containers */
  .container {
    max-width: 100%;
    padding: 0 12px;
  }

  /* Section spacing */
  section {
    padding: 20px 12px;
  }

  /* Typography adjustments for readability */
  body {
    font-size: 16px; /* Prevents zoom on iOS */
  }

  h1, h2, h3, h4, h5, h6 {
    word-break: break-word;
    word-wrap: break-word;
    hyphens: auto;
  }

  /* Prevent horizontal scroll */
  body, html {
    overflow-x: hidden;
  }

  /* Stack all flex layouts */
  .flex-col-mobile {
    flex-direction: column;
  }

  /* Reduce gaps on mobile */
  .gap-responsive-sm {
    gap: 8px !important;
  }

  .gap-responsive-md {
    gap: 12px !important;
  }

  .gap-responsive-lg {
    gap: 16px !important;
  }

  /* Card padding optimization */
  .card-mobile {
    padding: 12px;
  }

  /* Modal and dialog full-screen on mobile */
  dialog, .modal, .dialog {
    width: 100%;
    max-width: 100%;
    margin: 0;
    padding: 16px;
    border-radius: 8px 8px 0 0;
  }

  /* Image optimization */
  img {
    max-width: 100%;
    height: auto;
    display: block;
  }

  /* Form optimization */
  input, textarea, select {
    font-size: 16px;
    padding: 12px;
    width: 100%;
  }

  /* Prevent text selection highlighting issues */
  ::selection {
    background-color: rgba(168, 85, 247, 0.3);
  }

  /* Reduce shadow depth on mobile */
  .shadow-xl {
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  }

  /* Animation performance */
  .reduce-motion {
    animation-duration: 0.3s !important;
    transition-duration: 0.2s !important;
  }
}

/* Small Devices (480px - 640px) */
@media screen and (480px) and (max-width: 640px) {
  .container {
    padding: 0 16px;
  }

  section {
    padding: 24px 16px;
  }

  .gap-responsive-md {
    gap: 14px !important;
  }

  .card-mobile {
    padding: 14px;
  }
}

/* Medium+ Devices (640px+) */
@media screen and (min-width: 641px) {
  /* Restore normal spacing */
  .gap-responsive-sm {
    gap: 12px !important;
  }

  .gap-responsive-md {
    gap: 20px !important;
  }

  .gap-responsive-lg {
    gap: 24px !important;
  }

  .card-mobile {
    padding: 20px;
  }
}

/* Landscape orientation optimization */
@media screen and (max-height: 600px) and (orientation: landscape) {
  body {
    font-size: 14px;
  }

  h1, h2 {
    font-size: 1.2em;
  }

  section {
    padding: 12px;
  }

  button, a {
    min-height: 40px;
  }
}

/* Safe area support for notches */
@supports (padding: max(0px)) {
  body {
    padding-left: max(12px, env(safe-area-inset-left));
    padding-right: max(12px, env(safe-area-inset-right));
    padding-top: max(12px, env(safe-area-inset-top));
    padding-bottom: max(12px, env(safe-area-inset-bottom));
  }

  nav {
    padding-left: max(12px, env(safe-area-inset-left));
    padding-right: max(12px, env(safe-area-inset-right));
  }
}

/* Accessibility improvements */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

@media (prefers-color-scheme: dark) {
  /* Already dark mode */
  body {
    background-color: #000;
    color: #fff;
  }
}

/* Print styles for mobile */
@media print {
  body {
    background: white;
    color: black;
  }

  a {
    text-decoration: underline;
  }

  .no-print {
    display: none;
  }
}

/* Responsive utilities for common patterns */
.mobile-hidden {
  display: none;
}

.mobile-shown {
  display: block;
}

@media screen and (min-width: 768px) {
  .mobile-hidden {
    display: block;
  }

  .mobile-shown {
    display: none;
  }
}

/* Improve form interactions on mobile */
.form-group {
  margin-bottom: 16px;
}

.form-group label {
  display: block;
  margin-bottom: 8px;
  font-weight: 500;
}

.form-group input,
.form-group textarea,
.form-group select {
  width: 100%;
  border-radius: 8px;
  border: 1px solid rgba(255, 255, 255, 0.2);
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Touch-friendly link spacing */
a {
  display: inline-block;
  min-height: 44px;
  min-width: 44px;
  padding: 8px;
}

/* Responsive text utilities */
@media screen and (max-width: 480px) {
  .text-responsive-xl {
    font-size: 1.25rem;
  }

  .text-responsive-2xl {
    font-size: 1.5rem;
  }

  .text-responsive-3xl {
    font-size: 1.875rem;
  }
}

@media screen and (min-width: 481px) and (max-width: 768px) {
  .text-responsive-xl {
    font-size: 1.5rem;
  }

  .text-responsive-2xl {
    font-size: 1.875rem;
  }

  .text-responsive-3xl {
    font-size: 2.25rem;
  }
}

@media screen and (min-width: 769px) {
  .text-responsive-xl {
    font-size: 1.75rem;
  }

  .text-responsive-2xl {
    font-size: 2.25rem;
  }

  .text-responsive-3xl {
    font-size: 3rem;
  }
}
